{% extends 'base.html' %}
{% block title %}Profile - {{ user.username }}{% endblock %}

{% block content %}
<div class="row">
  <!-- Profile Header -->
  <div class="col-12 mb-4">
    <div class="card border-0 shadow-lg" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
      <div class="card-body text-white p-5">
        <div class="row align-items-center">
          <div class="col-auto">
            <div class="avatar-circle bg-white text-primary d-flex align-items-center justify-content-center" 
                 style="width: 100px; height: 100px; border-radius: 50%; font-size: 2.5rem; font-weight: bold;">
              {{ user.username|first|upper }}
            </div>
          </div>
          <div class="col">
            <h1 class="h2 mb-2">Welcome back, {{ user.first_name|default:user.username }}!</h1>
            <p class="mb-0 opacity-75">
              <i class="bi bi-envelope me-2"></i>{{ user.email|default:"No email provided" }}
            </p>
            <p class="mb-0 opacity-75">
              <i class="bi bi-calendar-check me-2"></i>Member since {{ user.date_joined|date:"F Y" }}
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Quick Actions -->
  <div class="col-lg-4 mb-4">
    <div class="card h-100 border-0 shadow">
      <div class="card-header bg-transparent border-0 pb-0">
        <h5 class="card-title mb-0">
          <i class="bi bi-gear text-primary me-2"></i>Account Settings
        </h5>
      </div>
      <div class="card-body">
        <div class="d-grid gap-3">
          <a href="{% url 'edit_profile' %}" class="btn btn-outline-primary btn-lg">
            <i class="bi bi-person-gear me-2"></i>Edit Profile
          </a>
          <a href="{% url 'password_change' %}" class="btn btn-outline-warning btn-lg">
            <i class="bi bi-shield-lock me-2"></i>Change Password
          </a>
          <a href="{% url 'logout' %}" class="btn btn-outline-danger btn-lg">
            <i class="bi bi-box-arrow-right me-2"></i>Logout
          </a>
        </div>
      </div>
    </div>
  </div>

  <!-- Learning Stats -->
  <div class="col-lg-8 mb-4">
    <div class="card h-100 border-0 shadow">
      <div class="card-header bg-transparent border-0 pb-0">
        <h5 class="card-title mb-0">
          <i class="bi bi-graph-up text-success me-2"></i>Learning Dashboard
        </h5>
      </div>
      <div class="card-body">
        <div class="row g-4">
          <div class="col-md-4">
            <div class="text-center p-3 bg-primary bg-opacity-10 rounded-3">
              <i class="bi bi-book-fill text-primary fs-1 mb-2"></i>
              <h4 class="mb-1">0</h4>
              <p class="text-muted mb-0">Courses Enrolled</p>
            </div>
          </div>
          <div class="col-md-4">
            <div class="text-center p-3 bg-success bg-opacity-10 rounded-3">
              <i class="bi bi-trophy-fill text-success fs-1 mb-2"></i>
              <h4 class="mb-1">0</h4>
              <p class="text-muted mb-0">Certificates Earned</p>
            </div>
          </div>
          <div class="col-md-4">
            <div class="text-center p-3 bg-info bg-opacity-10 rounded-3">
              <i class="bi bi-clock-fill text-info fs-1 mb-2"></i>
              <h4 class="mb-1">0h</h4>
              <p class="text-muted mb-0">Learning Hours</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Recent Activity -->
  <div class="col-12">
    <div class="card border-0 shadow">
      <div class="card-header bg-transparent border-0 pb-0">
        <h5 class="card-title mb-0">
          <i class="bi bi-activity text-info me-2"></i>Recent Activity
        </h5>
      </div>
      <div class="card-body">
        <div class="text-center py-5">
          <i class="bi bi-journal-text text-muted fs-1 mb-3"></i>
          <h6 class="text-muted">No recent activity</h6>
          <p class="text-muted mb-3">Start learning to see your progress here!</p>
          <a href="{% url 'courseplatform:course_list' %}" class="btn btn-primary">
            <i class="bi bi-search me-2"></i>Browse Courses
          </a>
        </div>
      </div>
    </div>
  </div>
</div>

<style>
  .avatar-circle {
    box-shadow: 0 4px 15px rgba(0,0,0,0.2);
  }
  
  .card {
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }
  
  .card:hover {
    transform: translateY(-2px);
  }
</style>
{% endblock %}
